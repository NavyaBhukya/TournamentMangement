<div class="dynamic-table">
  <div class="table-header">
    <div class="search-container">
      <input [formControl]="searchControl" class="search-input" placeholder="Search" pInputText />
    </div>
    <button pButton type="button" (click)="handleAdd()">{{ addButtonLabel}}</button>
  </div>

  <p-table [value]="filteredData" [paginator]="true" [rows]="10" [responsiveLayout]="'scroll'">
    <ng-template pTemplate="header">
      <tr>
        <ng-container *ngFor="let column of tableHeadings">
          <th>
            {{ column }}
          </th>
        </ng-container>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData>
      <tr>
        <td *ngFor="let column of tableObjKeys">

          <ng-container *ngIf="column === 'profile'; else defaultData">
            <img [src]="rowData[column]" alt="Profile" style="width: 50px; height: 50px; border-radius: 50%;">
          </ng-container>
          <ng-template #defaultData>
            <ng-container *ngIf="checkingIsArray(rowData[column]);else textData">
              {{rowData[column].join(',')}}
            </ng-container>
            <ng-template #textData>
              {{rowData[column]}}
            </ng-template>
          </ng-template>

          <!-- {{ rowData[column] }} -->
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>